<div class="goal-item {% if goal.status == 'Completed' %}completed{% endif %}" 
     id="goal-{{ goal.id }}"
     data-goal-id="{{ goal.id }}">
    
    <!-- Toggle Checkbox -->
    <button class="goal-checkbox"
            hx-post="/goal/{{ goal.id }}/toggle"
            hx-target="#goal-{{ goal.id }}"
            hx-swap="outerHTML">
        {% if goal.status == 'Completed' %}
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
        {% endif %}
    </button>
    
    <!-- Goal Title & Meta -->
    <div class="goal-title-wrapper">
        <span class="goal-title">{{ goal.title }}</span>
        <div class="goal-meta">
            <span title="Created">Added {{ goal.date_created.strftime('%y-%m-%d') }}</span>
            {% if goal.status == 'Completed' and goal.date_completed %}
                <span title="Completed">Completed {{ goal.date_completed.strftime('%y-%m-%d') }}</span>
            {% endif %}
            {% if goal.deadline and goal.status != 'Completed' %}
                {% set deadline_status = goal.get_deadline_status() %}
                <span class="{{ deadline_status.css_class }}" title="Deadline: {{ deadline_status.date_formatted }}">
                    {{ deadline_status.display }}
                </span>
            {% endif %}
        </div>
    </div>
    
    <!-- Actions -->
    <div class="goal-actions">
        <button class="goal-action-btn edit"
                hx-get="/goal/{{ goal.id }}/edit"
                hx-target="#goal-{{ goal.id }}"
                hx-swap="outerHTML"
                title="Edit Goal">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
        </button>
        <button class="goal-action-btn delete"
                hx-delete="/goal/{{ goal.id }}"
                hx-target="#goal-{{ goal.id }}"
                hx-swap="outerHTML"
                hx-confirm="Delete this goal?">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
    </div>
</div>
